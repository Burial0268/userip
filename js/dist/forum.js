(()=>{var o={n:t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},d:(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},t={};(()=>{"use strict";o.r(t),o.d(t,{extend:()=>O});const e=flarum.core.compat["forum/app"];var r=o.n(e);const n=flarum.core.compat["common/extend"],i=flarum.core.compat["forum/components/CommentPost"];var c=o.n(i);const s=flarum.core.compat["common/Model"];var u=o.n(s),a=function(){function o(o){this.region=void 0,this.code=void 0,this.isp=void 0,this.region=o.region(),this.code=o.countryCode(),this.isp=o.isp()}return o.prototype.process=function(o){return[this.region,this.code,this.isp].reduce((function(t,e,r){var n=t.count;return null!=e&&""!==e||(++n,e=o),t.elements[r]=e,t.count=n,t}),{count:0,elements:[]})},o}();function p(o,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,t){return o.__proto__=t,o},p(o,t)}function d(o,t){o.prototype=Object.create(t.prototype),o.prototype.constructor=o,p(o,t)}const f=flarum.core.compat["common/Component"];var l=function(o){function t(){return o.apply(this,arguments)||this}return d(t,o),t.prototype.view=function(){var o=this.attrs,t=o.code,e=o.region,r=o.isp;return m("div",{className:"userIp-container"},m("div",{className:"ip-locate",id:"info-country"},e+", "+t),m("div",{className:"ip-locate",id:"info-isp"},""+r))},t}(o.n(f)());const y=flarum.core.compat["common/extenders"];var v=o.n(y);const h=flarum.core.compat["common/models/Post"];var b=o.n(h),g=function(o){function t(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this].concat(r))||this).countryCode=u().attribute("countryCode"),t.region=u().attribute("region"),t.isp=u().attribute("isp"),t}return d(t,o),t}(u());const O=[new(v().Model)(b()).hasOne("userip_info").attribute("userIpInfo"),(new(v().Store)).add("userip_info",g)];r().initializers.add("gbcl/userip",(function(){var o=r().translator.trans("gbcl-userip.forum.unknownNotice");r().store.models.posts.prototype.userIpInfo=u().hasOne("userip_info"),(0,n.extend)(c().prototype,"footerItems",(function(t){var e=this.attrs.post.userIpInfo();if(e){var r=new a(e).process(o),n=r.elements,i=n[0],c=n[1],s=n[2];r.count<2&&t.add("userIp",m(l,{region:i,code:c,isp:s}))}}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map