(()=>{var o={n:t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},d:(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},t={};(()=>{"use strict";o.r(t);const e=flarum.core.compat["forum/app"];var r=o.n(e);const n=flarum.core.compat["common/extend"],i=flarum.core.compat["forum/components/CommentPost"];var c=o.n(i);function s(o,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,t){return o.__proto__=t,o},s(o,t)}const u=flarum.core.compat["common/Model"];var p=o.n(u);const a=flarum.core.compat["common/utils/mixin"];var l=function(o){var t,e;function r(){return o.apply(this,arguments)||this}return e=o,(t=r).prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e),r}(o.n(a)()(p(),{countryCode:p().attribute("countryCode"),region:p().attribute("region"),isp:p().attribute("isp")})),f=function(){function o(o,t,e){this.region=o,this.isp=e,this.code=t}return o.prototype.process=function(o){return[this.region,this.code,this.isp].reduce((function(t,e,r){var n=t.count;return null!=e&&""!==e||(++n,e=o),t.elements[r]=e,t.count=n,t}),{count:0,elements:[]})},o}();r().initializers.add("gbcl/userip",(function(){var o=r().translator.trans("gbcl-userip.forum.unknownNotice");r().store.models.userip_info=l,r().store.models.posts.prototype.ipInfo=p().hasOne("userip_info"),(0,n.extend)(c().prototype,"footerItems",(function(t){var e=this.attrs.post.ipInfo();if(e){var r=function(o){return{region:o.region(),countryCode:o.countryCode(),isp:o.isp()}}(e),n=r.region,i=r.countryCode,c=r.isp,s=new f(n,i,c).process(o);console.log(s);var u=s.elements,p=u[0],a=u[1],l=u[2];s.count<2&&t.add("userIp",m("div",{className:"userIp-container"},m("div",{className:"ip-locate",id:"info"},p+", "+a+" | "+l)))}}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map